# MEMORY.md - 2026-02-23

- **CI 자동 빌드 신뢰도 회복 이슈**: 사용자가 `완료될 때까지 계속 진행` 요청(실패-수정-재빌드 반복) 상태를 반복 확인했고, 2026-02-23 초반에 응답 딜레이로 인해 `멈춘 것처럼 보임` 오해가 발생. 실제로는 직전 실행은 실패 완료 후 새 실행이 큐/진행 중인 상태였고, 단계 로그 추적 간격/알림 타이밍이 문제로 체감 정체감이 커짐.

- **실행 기록(최신 순서)**:
  - `22280534632` 완료 실패: 에뮬레이터 단계에서 `No emulator serial detected`.
  - `22290169683` (run 16): `workflow_dispatch` 재시작 후 실행 중(`in_progress`)로 확인, 초반에는 `Build Debug APK` 단계에서 장시간 대기.

- **재현된 공통 실패 패턴**:
  - 에뮬레이터 단계에서 `No emulator serial detected`와 AVD 인식 실패.
  - `emulator -no-accel` 환경에서 `adb` 연결 실패/부팅 지연으로 인해 smoke test 실패.
  - `arm64-v8a` 이미지로 변경 시 심각한 호환 오류: `FATAL ... architecture 'arm64' is not supported by the QEMU2 emulator on x86_64 host`.

- **워크플로우 개선 조치 (순차 적용)**:
  - 에뮬레이터 부트/AVD 경로 안정화를 위해 `ANDROID_SDK_HOME=/tmp/.android`, `ANDROID_AVD_HOME=/tmp/.android/avd` 고정, `adb kill-server/start-server`, 시리얼 폴링 강화.
  - `arm64-v8a` 테스트에서 호환성 이슈 발생 후 **x86_64 시스템 이미지로 롤백** + 부트 타임아웃 증가.
  - 커밋 히스토리 관련: `9809c55`(emulator 하드닝), `7307b7c`(x86_64 되돌림 + 부트 대기 확장)

- **현재 상태 반영**: 사용자 피드백 반영하여 실패가 나면 즉시 단계별 원인(로그 요약) + 다음 수정 액션 + 재빌드 의사를 자동 반복해야 함을 명확히 수락받았고, 향후 커뮤니케이션은 “상태 정체성 해소” 중심으로 진행 예정.

- **에이전트 정리(2026-02-23)**: 사용자 요청에 따라 기존 분리 에이전트 일괄 삭제를 실행(`openclaw agents delete --force`). 남은 에이전트는 `main`(모카)만 유지됨.
  - 삭제 대상: travel-expert, real-estate-expert, korea-economy-expert, global-economy-expert, economy-expert, korea-stock-expert, us-stock-expert, tech-expert, openclaw-expert, app-pm, app-planner, app-dev, app-qa.
  - 확인: `openclaw agents list` 결과 `main (default)` 단일 항목만 표시.
- **운영 의도 반영**: 사용자 환경 단순화를 위해 워크플로우/호출 트리 정리를 다음 단계로 이어가야 함(기존 AGENTS/WORKFLOW_AUTO의 멀티 에이전트 호출 항목 정리 필요).


- **단일 모드 전환 후 정합성 조치**: AGENTS.md와 WORKFLOW_AUTO.md를 모카 단독 모드로 축소하도록 업데이트하고 `commit fa2fc96`로 반영.
  - `openclaw agents list` 기준 남은 에이전트는 `main` 단일.
  - 검색 기반 벤치마크(`web_search`)는 현재 Brave API 키 미설정으로 제한됨(`missing_brave_api_key`).
